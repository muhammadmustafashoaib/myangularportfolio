<form 
  [formGroup]="allocationForm" 
  (ngSubmit)="onSubmit()" 
  class="w-full  mx-auto mt-5 p-4 sm:p-5 md:p-6 bg-blue-50 rounded-lg shadow">

  <h1 class="text-base sm:text-lg md:text-xl font-bold text-gray-800 mb-5 text-center">
    Registration Form
  </h1>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
    
    <!-- Business Units -->
    <div>
      <label class="block text-xs font-medium   mb-1">Business Units</label>
      <select formControlName="distributions" 
              [ngClass]="getControlClass('distributions')" 
              class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
        <option value=""  >Select Business Units</option>
        <option *ngFor="let dist of distributions" [value]="dist">{{ dist }}</option>
      </select>
      <div *ngIf="allocationForm.get('distributions')?.touched && allocationForm.get('distributions')?.invalid" 
           class="text-red-500 text-xs mt-1">
        Business Units is required.
      </div>
    </div>

    <!-- Stakeholder -->
    <div>
      <label class="block text-xs font-medium   mb-1">Stakeholder</label>
      <select formControlName="principles" 
              [ngClass]="getControlClass('principles')" 
              class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
        <option value=""  >Select Stakeholder</option>
        <option *ngFor="let p of principles" [value]="p">{{ p }}</option>
      </select>
      <div *ngIf="allocationForm.get('principles')?.touched && allocationForm.get('principles')?.invalid" 
           class="text-red-500 text-xs mt-1">
        Stakeholder is required.
      </div>
    </div>

    <!-- Contact Person -->
    <div>
      <label class="block text-xs font-medium   mb-1">Contact Person</label>
      <select formControlName="channel" 
              [ngClass]="getControlClass('channel')" 
              class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
        <option value=""  >Select Contact Person</option>
        <option *ngFor="let ch of channels" [value]="ch">{{ ch }}</option>
      </select>
      <div *ngIf="allocationForm.get('channel')?.touched && allocationForm.get('channel')?.invalid" 
           class="text-red-500 text-xs mt-1">
        Contact Person is required.
      </div>
    </div>

    <!-- Connect -->
    <div>
      <label class="block text-xs font-medium   mb-1">Connect</label>
      <select formControlName="connect" 
              [ngClass]="getControlClass('connect')" 
              class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
        <option value=""  >Select Connect</option>
        <option *ngFor="let con of connects" [value]="con">{{ con }}</option>
      </select>
      <div *ngIf="allocationForm.get('connect')?.touched && allocationForm.get('connect')?.invalid" 
           class="text-red-500 text-xs mt-1">
        Connect is required.
      </div>
    </div>

    <!-- Start Date -->
    <div>
      <label class="block text-xs font-medium   mb-1">Start Date</label>
      <input type="date" 
             formControlName="startDate" 
             [ngClass]="getControlClass('startDate')" 
             class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
      <div *ngIf="allocationForm.get('startDate')?.touched && allocationForm.get('startDate')?.invalid" 
           class="text-red-500 text-xs mt-1">
        Start Date is required.
      </div>
    </div>

    <!-- End Date -->
    <div>
      <label class="block text-xs font-medium   mb-1">End Date</label>
      <input type="date" 
             formControlName="endDate" 
             [ngClass]="getControlClass('endDate')" 
             class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
      <div *ngIf="allocationForm.get('endDate')?.touched && allocationForm.get('endDate')?.invalid" 
           class="text-red-500 text-xs mt-1">
        End Date is required.
      </div>
    </div>

    <!-- Designation -->
    <div>
      <label class="block text-xs font-medium   mb-1">Designation</label>
      <select formControlName="designation" 
              [ngClass]="getControlClass('designation')" 
              class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
        <option value=""  >Select Designation</option>
        <option *ngFor="let d of designations" [value]="d">{{ d }}</option>
      </select>
      <div *ngIf="allocationForm.get('designation')?.touched && allocationForm.get('designation')?.invalid" 
           class="text-red-500 text-xs mt-1">
        Designation is required.
      </div>
    </div>

    <!-- Description -->
    <div>
      <label class="block text-xs font-medium   mb-1">Description</label>
      <input type="text" 
             formControlName="description" 
             [ngClass]="getControlClass('description')" 
             placeholder="Enter Description" 
             class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400 text-xs">
      <div *ngIf="allocationForm.get('description')?.touched && allocationForm.get('description')?.invalid" 
           class="text-red-500 text-xs mt-1">
        Description is required.
      </div>
    </div>
  </div>

  <div class="w-full flex justify-center mt-5">
    <button 
      type="submit" 
      [disabled]="allocationForm.invalid" 
      class="bg-blue-600 text-white px-5 py-2 rounded-md shadow 
             hover:bg-blue-700 transition 
              :bg-gray-400  :cursor-not-allowed text-sm">
      Submit
    </button>
  </div>
  <div 
  *ngIf="showConfirmDialog"
  class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">

  <div class="bg-white p-4 sm:p-6 rounded shadow-lg w-11/12 sm:w-96 text-xs sm:text-sm">
    <h2 class="text-base font-semibold mb-4 text-center">Confirm Submission</h2>
    <p class="text-center mb-4">Are you sure you want to submit the form?</p>
    <div class="flex justify-center gap-4">
      <button 
        (click)="handleConfirmation(true)" 
        class="bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 text-xs sm:text-sm">
        Yes
      </button>
      <button 
        (click)="handleConfirmation(false)" 
        class="bg-gray-400 text-white px-4 py-1 rounded hover:bg-gray-500 text-xs sm:text-sm">
        No
      </button>
    </div>
  </div>
</div>

<!-- Success Message -->
<div *ngIf="showSuccessMsg" class="mt-4 text-green-600 text-center text-xs sm:text-sm">
  âœ… Form submitted successfully!
</div>
</form>
